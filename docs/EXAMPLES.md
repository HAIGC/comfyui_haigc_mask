# 使用示例 / Usage Examples

## 📖 目录 / Table of Contents

- [基础示例](#基础示例--basic-examples)
- [进阶示例](#进阶示例--advanced-examples)
- [实战案例](#实战案例--real-world-cases)

---

## 基础示例 / Basic Examples

### 示例 1: 创建简单圆形遮罩

**中文说明**: 创建一个居中的圆形遮罩

```yaml
节点: 遮罩生成器 (HAIGC)

参数设置:
  画布宽度: 512
  画布高度: 512
  形状类型: 圆形
  中心X: 0.5
  中心Y: 0.5
  半径 (圆形/多边形/星形): 0.4
  抗锯齿强度: 标准
```

**English**: Create a centered circular mask

```yaml
Node: Mask Generator (HAIGC)

Parameters:
  Canvas Width: 512
  Canvas Height: 512
  Shape Type: Circle
  Center X: 0.5
  Center Y: 0.5
  Radius: 0.4
  Anti-aliasing: Standard
```

**预期效果**: 512x512 画布上的白色圆形，边缘平滑

---

### 示例 2: 圆角矩形

**中文说明**: 创建一个带圆角的矩形遮罩

```yaml
节点: 遮罩生成器 (HAIGC)

参数设置:
  画布宽度: 512
  画布高度: 512
  形状类型: 矩形
  中心X: 0.5
  中心Y: 0.5
  宽度 (矩形): 0.6
  高度 (矩形): 0.4
  圆角半径 (矩形): 30
  旋转角度 (矩形/椭圆/多边形/星形): 0
  抗锯齿强度: 高质量
```

**预期效果**: 带有平滑圆角的矩形，尺寸为画布的 60%×40%

---

### 示例 3: 旋转的五角星

**中文说明**: 创建一个旋转45度的五角星

```yaml
节点: 遮罩生成器 (HAIGC)

参数设置:
  画布宽度: 512
  画布高度: 512
  形状类型: 星形
  中心X: 0.5
  中心Y: 0.5
  半径 (圆形/多边形/星形): 0.4
  内半径 (星形): 0.18
  边数 (多边形/星形): 5
  旋转角度 (矩形/椭圆/多边形/星形): 45
  羽化边缘: 2.0
  抗锯齿强度: 标准
```

**预期效果**: 旋转45度的五角星，边缘略微柔化

---

## 进阶示例 / Advanced Examples

### 示例 4: 组合形状 - 圆环

**中文说明**: 通过差集操作创建圆环

**步骤**:
1. 创建外圆
   ```yaml
   节点 1: 遮罩生成器 (HAIGC)
   形状类型: 圆形
   半径: 0.4
   操作模式: 新建
   ```

2. 减去内圆
   ```yaml
   节点 2: 遮罩生成器 (HAIGC)
   输入遮罩: [连接节点1的输出]
   形状类型: 圆形
   半径: 0.25
   操作模式: 差集
   ```

**预期效果**: 圆环形状的遮罩

---

### 示例 5: 径向渐变遮罩

**中文说明**: 创建从中心向外的径向渐变

```yaml
节点: 遮罩生成器 (HAIGC)

参数设置:
  画布宽度: 512
  画布高度: 512
  形状类型: 渐变
  渐变类型 (渐变): 径向
  反转渐变 (渐变): 否
  羽化边缘: 0
```

**应用场景**: 
- 柔和的晕影效果
- 中心聚焦效果
- 与其他遮罩混合使用

---

### 示例 6: 有机纹理噪声

**中文说明**: 创建柏林噪声纹理

```yaml
节点: 遮罩生成器 (HAIGC)

参数设置:
  画布宽度: 1024
  画布高度: 1024
  形状类型: 噪声
  噪声类型 (噪声): 柏林噪声
  噪声强度 (噪声): 0.8
  噪声缩放 (噪声): 6.0
```

**应用场景**:
- 自然纹理生成
- 随机遮罩效果
- 艺术创作

---

### 示例 7: 精确调整遮罩尺寸

**中文说明**: 将遮罩调整到特定尺寸并居中对齐

```yaml
工作流:
  遮罩生成器 → 遮罩尺寸调整 → 输出

节点 1: 遮罩生成器
  (创建任意形状)

节点 2: 遮罩尺寸调整 (HAIGC)
  目标宽度: 1024
  目标高度: 768
  基准方式: 遮罩区域
  保持宽高比: 是
  插值方法: 双三次
  对齐方式: 居中
  边缘留白: 50
```

**预期效果**: 遮罩被缩放到1024×768，居中对齐，四周留白50像素

---

### 示例 8: 旋转和翻转遮罩

**中文说明**: 将遮罩旋转30度并水平翻转

```yaml
工作流:
  遮罩生成器 → 遮罩变换 → 输出

节点 1: 遮罩生成器
  形状类型: 矩形
  宽度 (矩形): 0.6
  高度 (矩形): 0.3
  圆角半径 (矩形): 20

节点 2: 遮罩变换 (HAIGC)
  启用旋转: 是
  旋转角度: 30
  插值方法: 双三次
  对齐方式: 居中
  
  启用翻转: 是
  水平翻转: 是
  垂直翻转: 否
  
  裁剪到边框: 是
```

**预期效果**: 圆角矩形旋转30度后水平翻转

---

## 实战案例 / Real-world Cases

### 案例 1: 人像边缘柔化遮罩

**应用场景**: 为人像抠图添加柔和边缘

**工作流**:
```
原始遮罩 → 遮罩变换(羽化) → 输出
```

**参数设置**:
```yaml
遮罩变换 (HAIGC):
  启用旋转: 否
  启用缩放: 是
  缩放X: 0.98
  缩放Y: 0.98
  保持宽高比: 是
  
  羽化角度: 15
  边界填充: 10
```

**效果**: 遮罩略微缩小并添加柔和边缘，适合人像合成

---

### 案例 2: 批量选择最大的3个对象

**应用场景**: 从检测结果中选择最大的几个目标

**工作流**:
```
检测结果(多个遮罩) → 多遮罩选择器 → 单独处理
```

**参数设置**:
```yaml
多遮罩选择器 (HAIGC):
  排序方向: 按面积
  选择模式: 范围选择
  遮罩索引: 0
  选择数量: 3
  最小面积: 100
```

**效果**: 自动选择面积最大的3个对象，忽略小于100像素的噪点

---

### 案例 3: 创建复杂Logo遮罩

**应用场景**: 组合多个基础形状创建品牌Logo

**工作流**:
```
生成器1(圆形) ┐
              ├→ 生成器2(叠加) ┐
生成器3(矩形) ┘                ├→ 生成器4(差集) → 输出
                             ┘
生成器5(小圆)                
```

**步骤**:
1. 创建大圆作为底
2. 叠加矩形
3. 用小圆减去中心（创建镂空效果）

---

### 案例 4: 遮罩质量检查

**应用场景**: 对比AI生成的遮罩与标准遮罩

**工作流**:
```
AI生成遮罩 ┐
          ├→ 遮罩比较节点 → 评分输出
标准遮罩   ┘
```

**参数设置**:
```yaml
遮罩比较节点 (HAIGC):
  比较模式: Dice系数
```

**输出**:
- Dice系数得分 (0-1，越接近1越相似)
- 可视化差异遮罩
- 详细统计信息

**应用**: 自动化质量控制，筛选高质量结果

---

### 案例 5: 创建棋盘测试图案

**应用场景**: 生成测试图案用于验证处理流程

**参数设置**:
```yaml
遮罩生成器 (HAIGC):
  画布宽度: 1024
  画布高度: 1024
  形状类型: 棋盘
  格子数X (棋盘): 16
  格子数Y (棋盘): 16
```

**应用**: 
- 测试缩放算法
- 验证对齐精度
- 检查插值效果

---

### 案例 6: 艺术创作 - 多层渐变

**应用场景**: 创建复杂的渐变效果用于艺术创作

**工作流**:
```
渐变1(线性,0°)    ┐
                 ├→ 混合 ┐
渐变2(线性,90°)   ┘       ├→ 混合 → 输出
                        ┘
渐变3(径向)              
```

**技巧**: 使用不同的混合模式（叠加、相交）创建独特效果

---

## 💡 专业技巧 / Pro Tips

### 技巧 1: 参数复用

**中文**: 保存常用参数组合，快速应用到新项目

**建议参数预设**:
- **人像边缘**: 羽化15, 抗锯齿高质量
- **硬边遮罩**: 羽化0, 抗锯齿关闭
- **柔和过渡**: 羽化30, 抗锯齿超高质量

---

### 技巧 2: 性能优化

**中文**: 大尺寸遮罩处理技巧

1. 先用小尺寸（512×512）测试参数
2. 确认效果后再用大尺寸（2048×2048）
3. 对于实时预览，使用"标准"抗锯齿
4. 最终渲染时使用"高质量"或"超高质量"

---

### 技巧 3: 创意组合

**中文**: 突破基础形状限制

1. **组合形状**: 用叠加/差集创建新形状
2. **渐变叠加**: 在实色遮罩上叠加渐变
3. **噪声纹理**: 用噪声打破规则边缘
4. **多层嵌套**: 遮罩的遮罩，创建复杂效果

---

## 📚 参考资源 / References

- [完整文档](../README.md)
- [快速开始](快速开始.md)
- [参数参考](../README.md#参数说明)

---

## 🤝 贡献示例 / Contribute Examples

如果你有好的使用案例，欢迎提交！

1. Fork 本项目
2. 在 `docs/EXAMPLES.md` 添加你的案例
3. 提交 Pull Request

---

**Happy Creating! 创作愉快！** 🎨

